<!DOCTYPE HTML>
<html lang="es">
  <head>
    <title>Socket.io</title>
    <style type="text/css">
      #send{background:#CCC; padding:20px; width:50px;}

    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="http://localhost:8080/socket.io/socket.io.js"></script>
    <script type="text/javascript">
        $(document).on('ready',iniciar);
        var websocket = io.connect('http://localhost:8080');

        function iniciar(){
            websocket.on('nombreDesdeServidor',recibirMensaje);
            $('#send').on('click',enviarMensaje);
        }

        function enviarMensaje(){
            if($('#texto').val()!='')
                websocket.emit('nuevoDato',$('#texto').val());
        }

        function recibirMensaje(datosServidor){
            $('#texto').val('').focus();
            $('#content').append('<p>nuevo mensaje: ' + datosServidor+'</p>');

        }
    </script>
  </head>
  <body>
      <div id="content"></div>
      <input type="text" id="texto">
      <div id="send">SEND</div>
      
  </body>
</html>